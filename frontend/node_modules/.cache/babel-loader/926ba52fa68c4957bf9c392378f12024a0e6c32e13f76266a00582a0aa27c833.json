{"ast":null,"code":"var _jsxFileName = \"D:\\\\Desktop\\\\React\\\\LinkNest\\\\frontend\\\\src\\\\component\\\\widgets\\\\PostsWidget.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setPosts } from '../../state';\nimport PostWidget from './PostWidget';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PostsWidget = ({\n  userId,\n  isProfile = false\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const posts = useSelector(state => state.posts);\n  const token = useSelector(state => state.token);\n  const {\n    _id,\n    userPicturePath\n  } = useSelector(state => state.user);\n  const getPosts = async () => {\n    const res = await fetch(\"http://localhost:3001/posts\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await res.json();\n    dispatch(setPosts({\n      posts: data\n    }));\n  };\n  const getUserPosts = async () => {\n    const res = await fetch(`http://localhost:3001/posts/${userId}/posts`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await res.json();\n    dispatch(setPosts({\n      posts: data\n    }));\n  };\n  useEffect(() => {\n    if (isProfile) {\n      getUserPosts();\n    } else {\n      getPosts();\n    }\n  }, [isProfile, userId, token]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: posts.map(({\n      _id,\n      userId,\n      firstName,\n      lastName,\n      description,\n      location,\n      picturePath,\n      userPicturePath,\n      likes,\n      comments\n    }) => /*#__PURE__*/_jsxDEV(PostWidget, {\n      postId: _id,\n      postUserId: userId,\n      name: `${firstName} ${lastName}`,\n      description: description,\n      location: location,\n      picturePath: picturePath,\n      userPicturePath: userPicturePath,\n      likes: likes,\n      comments: comments\n    }, _id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this))\n  }, void 0, false);\n};\n_s(PostsWidget, \"fFuX7cgEy4pB4r7vP+/MB1rzQOU=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = PostsWidget;\nexport default PostsWidget;\nvar _c;\n$RefreshReg$(_c, \"PostsWidget\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","setPosts","PostWidget","jsxDEV","_jsxDEV","Fragment","_Fragment","PostsWidget","userId","isProfile","_s","dispatch","posts","state","token","_id","userPicturePath","user","getPosts","res","fetch","method","headers","Authorization","data","json","getUserPosts","children","map","firstName","lastName","description","location","picturePath","likes","comments","postId","postUserId","name","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Desktop/React/LinkNest/frontend/src/component/widgets/PostsWidget.js"],"sourcesContent":["import React,{useState} from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setPosts } from '../../state';\r\nimport PostWidget from './PostWidget';\r\n\r\nconst PostsWidget = ({userId, isProfile= false}) => {\r\n    const dispatch= useDispatch();\r\n    const posts= useSelector((state) => state.posts);\r\n    const token= useSelector((state) => state.token);\r\n    const { _id, userPicturePath} = useSelector((state) => state.user)\r\n    \r\n\r\n    const getPosts= async () => {\r\n        const res= await fetch(\r\n            \"http://localhost:3001/posts\",\r\n            {\r\n            method: \"GET\",\r\n            headers: {Authorization: `Bearer ${token}`},\r\n            }\r\n        );\r\n        const data= await res.json();\r\n        dispatch(setPosts({posts: data}))\r\n    }\r\n\r\n    const getUserPosts= async () => {\r\n        const res= await fetch(\r\n            `http://localhost:3001/posts/${userId}/posts`,\r\n            {\r\n                method: \"GET\",\r\n                headers: {Authorization: `Bearer ${token}`},\r\n            }\r\n        );\r\n        const data= await res.json();\r\n        dispatch(setPosts({posts: data}));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(isProfile){\r\n            getUserPosts();\r\n        }else{\r\n            getPosts();\r\n        }\r\n    }, [isProfile, userId, token]);\r\n\r\n  return (\r\n    <>\r\n        {posts.map(\r\n            ({\r\n              _id,\r\n              userId,\r\n              firstName,\r\n              lastName,\r\n              description,\r\n              location,\r\n              picturePath,\r\n              userPicturePath,\r\n              likes,\r\n              comments,  \r\n            }) => (\r\n                <PostWidget\r\n                    key= {_id}\r\n                    postId= {_id}\r\n                    postUserId= {userId}\r\n                    name= {`${firstName} ${lastName}`}\r\n                    description= {description}\r\n                    location= {location}\r\n                    picturePath= {picturePath}\r\n                    userPicturePath= {userPicturePath}\r\n                    likes= {likes}\r\n                    comments= {comments}\r\n                />\r\n            )\r\n        )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PostsWidget;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}